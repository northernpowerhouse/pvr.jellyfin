
[0;34m============================================================[0m
[0;34mJellyfin Live TV API Test - 202511081350[0m
[0;34m============================================================[0m

Server: http://192.168.1.180:8096
Channel ID: 9eb7bf0fcb803b706bff593ee8d8b18a

[0;34m============================================================[0m
[0;34mTEST 1: Authenticate with Username/Password[0m
[0;34m============================================================[0m

[0;32mâœ“ Authentication successful (HTTP 200)[0m
[1;33mâ„¹ Access Token: 8f28ae9a34274fd1a0a3...[0m
[1;33mâ„¹ User ID: 895d06a72b774b71a2070b10fcfffd0b[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_auth_response.json[0m

[0;34m============================================================[0m
[0;34mTEST 2: GET /Items/{ChannelId} - Get Channel Info[0m
[0;34m============================================================[0m

[1;33mâ„¹ Testing with TOKEN[0m
[0;32mâœ“ Channel info retrieved (HTTP 200) with TOKEN[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_channel_info_TOKEN.json[0m
[0;32mâœ“ MediaSources found in channel info![0m
[
  {
    "Protocol": "File",
    "Id": "9eb7bf0fcb803b706bff593ee8d8b18a",
    "Type": "Placeholder",
    "Name": "BBC One FHD",
    "IsRemote": false,
    "ReadAtNativeFramerate": false,
    "IgnoreDts": false,
    "IgnoreIndex": false,
    "GenPtsInput": false,
    "SupportsTranscoding": true,
    "SupportsDirectStream": true,
    "SupportsDirectPlay": true,
    "IsInfiniteStream": true,
    "UseMostCompatibleTranscodingProfile": false,
    "RequiresOpening": false,
    "RequiresClosing": false,
    "RequiresLooping": false,
    "SupportsProbing": true,
    "MediaStreams": [],
    "MediaAttachments": [],
    "Formats": [],
    "RequiredHttpHeaders": {},
    "TranscodingSubProtocol": "http",
    "HasSegments": false
  }
]
[1;33mâ„¹ Testing with APIKEY[0m
[0;31mâœ— Failed to get channel info (HTTP 400) with APIKEY[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_channel_info_error_APIKEY.json[0m

[0;34m============================================================[0m
[0;34mTEST 3: POST /Items/{ChannelId}/PlaybackInfo - Standard Method[0m
[0;34m============================================================[0m

[1;33mâ„¹ Testing with DeviceProfile: v1[0m
[0;32mâœ“ PlaybackInfo successful (HTTP 200) with v1[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_playbackinfo_v1.json[0m
[0;32mâœ“ MediaSources found![0m
{
  "Path": null,
  "Id": "9eb7bf0fcb803b706bff593ee8d8b18a",
  "Protocol": "File"
}
[1;33mâ„¹ Testing with DeviceProfile: v2[0m
[0;32mâœ“ PlaybackInfo successful (HTTP 200) with v2[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_playbackinfo_v2.json[0m
[0;32mâœ“ MediaSources found![0m
{
  "Path": null,
  "Id": "9eb7bf0fcb803b706bff593ee8d8b18a",
  "Protocol": "File"
}
[1;33mâ„¹ Testing with DeviceProfile: minimal[0m
[0;32mâœ“ PlaybackInfo successful (HTTP 200) with minimal[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_playbackinfo_minimal.json[0m
[0;32mâœ“ MediaSources found![0m
{
  "Path": null,
  "Id": "9eb7bf0fcb803b706bff593ee8d8b18a",
  "Protocol": "File"
}
[1;33mâ„¹ Testing with DeviceProfile: none[0m
[0;32mâœ“ PlaybackInfo successful (HTTP 200) with none[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_playbackinfo_none.json[0m
[0;32mâœ“ MediaSources found![0m
{
  "Path": null,
  "Id": "9eb7bf0fcb803b706bff593ee8d8b18a",
  "Protocol": "File"
}

[0;34m============================================================[0m
[0;34mTEST 4: GET /LiveTv/Channels/{ChannelId} - LiveTV Endpoint[0m
[0;34m============================================================[0m

[0;32mâœ“ LiveTV Channel info retrieved (HTTP 200)[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livetv_channel.json[0m

[0;34m============================================================[0m
[0;34mTEST 5: GET /LiveTv/LiveStreamMediaInfo - Media Source Info[0m
[0;34m============================================================[0m

[0;31mâœ— LiveStreamMediaInfo failed (HTTP 404)[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livestream_mediainfo_error.json[0m

[0;34m============================================================[0m
[0;34mTEST 6: POST /LiveTv/LiveStreams/Open - Open Live Stream[0m
[0;34m============================================================[0m

[1;33mâ„¹ Testing with DeviceProfile: v1[0m
[0;31mâœ— Failed to open live stream (HTTP 404) with v1[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livestream_open_error_v1.json[0m
[1;33mâ„¹ Testing with DeviceProfile: minimal[0m
[0;31mâœ— Failed to open live stream (HTTP 404) with minimal[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livestream_open_error_minimal.json[0m
[1;33mâ„¹ Testing with DeviceProfile: none[0m
[0;31mâœ— Failed to open live stream (HTTP 404) with none[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livestream_open_error_none.json[0m

[0;34m============================================================[0m
[0;34mTEST 8: Explore LiveStreamFiles Endpoint[0m
[0;34m============================================================[0m

[1;33mâ„¹ This endpoint is used by Jellyfin.Xtream plugin[0m
[1;33mâ„¹ Checking if we can query available streams...[0m
[1;33mâ„¹ LiveStreamFiles endpoint returned (HTTP 404)[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_livestreamfiles_response.json[0m

[0;34m============================================================[0m
[0;34mTEST 9: GET /Items/{ChannelId}/PlaybackInfo - With StartTimeTicks[0m
[0;34m============================================================[0m

[0;32mâœ“ PlaybackInfo with params successful (HTTP 200)[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_playbackinfo_params.json[0m

[0;34m============================================================[0m
[0;34mTEST 10: GET /Users/{UserId}/Items - User's Library[0m
[0;34m============================================================[0m

[0;32mâœ“ User items retrieved (HTTP 200)[0m
[1;33mâ„¹ Response saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350_user_items.json[0m
[1;33mâ„¹ First 5 channels structure:[0m
{
  "Name": "Shows",
  "Id": "a656b907eb3a73532e40e44b968d0225",
  "Path": "/config/root/default/Shows",
  "HasMediaSources": false
}
{
  "Name": "Playlists",
  "Id": "1071671e7bffa0532e930debee501d2e",
  "Path": "/config/data/playlists",
  "HasMediaSources": false
}

[0;34m============================================================[0m
[0;34mTEST SUMMARY[0m
[0;34m============================================================[0m

All test results saved to: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest
Log file: /home/joe/projects/pvr.jellyfindev/pvr.jellyfin/devlog/apitest/202511081350.log

Key findings:
1. Check *_channel_info_*.json for MediaSources in channel data
2. Check *_playbackinfo_*.json for PlaybackInfo responses
3. Check *_livestream_open_*.json for successful stream opening
4. Look for 'Path' fields in MediaSources - these are the stream URLs

[1;33mâ„¹ Analyze the JSON files to find the working API approach![0m
